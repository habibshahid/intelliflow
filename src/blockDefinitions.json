{
  "systemVariables": [
    {
      "key": "{{user.name}}",
      "label": "User Name",
      "description": "Current user's name"
    },
    {
      "key": "{{user.email}}",
      "label": "User Email",
      "description": "Current user's email address"
    },
    {
      "key": "{{timestamp}}",
      "label": "Current Timestamp",
      "description": "Current date and time"
    },
    {
      "key": "{{date}}",
      "label": "Current Date",
      "description": "Current date (YYYY-MM-DD)"
    },
    {
      "key": "{{flow.id}}",
      "label": "Flow ID",
      "description": "Current flow identifier"
    },
    {
      "key": "{{input.data}}",
      "label": "Input Data",
      "description": "Data from previous block"
    }
  ],
  "blockTypes": {
    "audio_playback": {
      "id": "audio_playback",
      "name": "Audio Playback",
      "category": "media",
      "icon": "üîä",
      "color": "#4CAF50",
      "inputs": {
        "min": 0,
        "max": 1,
        "labels": ["trigger"]
      },
      "outputs": {
        "min": 1,
        "max": 5,
        "labels": ["completed", "error", "skipped"],
        "mode": "dynamic"
      },
      "properties": [
        {
          "key": "audioFile",
          "label": "Audio File",
          "type": "select_database",
          "propertyType": "media_audio",
          "query": "SELECT id, filename, CONCAT('https://iman.contegris.com/intellicon/', filepath, '.', extension) AS file_url FROM yovo_tbl_audio_files",
          "valueField": "id",
          "labelField": "filename",
          "previewField": "file_url",
          "placeholder": "Select audio file...",
          "searchable": true,
          "searchPlaceholder": "Search audio files...",
          "required": true
        },
        {
          "key": "volume",
          "label": "Volume",
          "type": "number",
          "default": 100,
          "min": 0,
          "max": 100
        }
      ]
    },
    "image_display": {
      "id": "image_display",
      "name": "Image Display",
      "category": "media",
      "icon": "üñºÔ∏è",
      "color": "#E91E63",
      "inputs": {
        "min": 1,
        "max": 1,
        "labels": ["trigger"]
      },
      "outputs": {
        "min": 2,
        "max": 2,
        "labels": ["success", "error"],
        "mode": "fixed"
      },
      "properties": [
        {
          "key": "imageFile",
          "label": "Image File",
          "type": "select_database",
          "propertyType": "media_image",
          "query": "SELECT id, title, image_url FROM images WHERE active = 1",
          "valueField": "id",
          "labelField": "title",
          "previewField": "image_url",
          "placeholder": "Select image...",
          "searchable": true,
          "searchPlaceholder": "Search images..."
        },
        {
          "key": "duration",
          "label": "Display Duration (seconds)",
          "type": "number",
          "default": 5,
          "min": 1,
          "max": 60
        }
      ]
    },
    "video_player": {
      "id": "video_player",
      "name": "Video Player",
      "category": "media",
      "icon": "üé¨",
      "color": "#9C27B0",
      "inputs": {
        "min": 1,
        "max": 1,
        "labels": ["trigger"]
      },
      "outputs": {
        "min": 3,
        "max": 3,
        "labels": ["completed", "error", "skipped"],
        "mode": "fixed"
      },
      "properties": [
        {
          "key": "videoFile",
          "label": "Video File",
          "type": "select_database",
          "propertyType": "media_video",
          "query": "SELECT id, title, video_url FROM videos WHERE status = 'active'",
          "valueField": "id",
          "labelField": "title",
          "previewField": "video_url",
          "placeholder": "Select video...",
          "searchable": true,
          "searchPlaceholder": "Search videos..."
        },
        {
          "key": "autoplay",
          "label": "Autoplay",
          "type": "boolean",
          "default": true
        }
      ]
    },
    "text_to_speech": {
      "id": "text_to_speech",
      "name": "Text to Speech",
      "category": "ai",
      "icon": "üí¨",
      "color": "#2196F3",
      "inputs": {
        "min": 1,
        "max": 1,
        "labels": ["input"]
      },
      "outputs": {
        "min": 2,
        "max": 2,
        "labels": ["success", "error"],
        "mode": "fixed"
      },
      "properties": [
        {
          "key": "text",
          "label": "Text",
          "type": "textarea",
          "placeholder": "Enter text to speak...",
          "required": true,
          "showPredefinedVariables": true
        },
        {
          "key": "voice",
          "label": "Voice",
          "type": "select",
          "options": ["male", "female", "neutral"],
          "default": "neutral"
        },
        {
          "key": "speed",
          "label": "Speed",
          "type": "number",
          "default": 1.0,
          "min": 0.5,
          "max": 2.0,
          "step": 0.1
        }
      ]
    },
    "if_else": {
      "id": "if_else",
      "name": "If/Else Condition",
      "category": "logic",
      "icon": "üîÄ",
      "color": "#FF9800",
      "inputs": {
        "min": 1,
        "max": 1,
        "labels": ["input"]
      },
      "outputs": {
        "min": 2,
        "max": 2,
        "labels": ["true", "false"],
        "mode": "fixed"
      },
      "properties": [
        {
          "key": "condition",
          "label": "Condition",
          "type": "textarea",
          "placeholder": "e.g., value > 100",
          "required": true,
          "showPredefinedVariables": true
        }
      ]
    },
    "http_request": {
      "id": "http_request",
      "name": "HTTP Request",
      "category": "api",
      "icon": "üåê",
      "color": "#9C27B0",
      "inputs": {
        "min": 1,
        "max": 1,
        "labels": ["trigger"]
      },
      "outputs": {
        "min": 2,
        "max": 2,
        "labels": ["success", "error"],
        "mode": "fixed"
      },
      "properties": [
        {
          "key": "method",
          "label": "Method",
          "type": "select",
          "options": ["GET", "POST", "PUT", "DELETE"],
          "default": "GET"
        },
        {
          "key": "url",
          "label": "URL",
          "type": "text",
          "placeholder": "https://api.example.com/endpoint",
          "required": true,
          "showPredefinedVariables": true
        },
        {
          "key": "body",
          "label": "Body",
          "type": "textarea",
          "placeholder": "Request body (for POST/PUT)",
          "showPredefinedVariables": true
        }
      ]
    },
    "start": {
      "id": "start",
      "name": "Start",
      "category": "control",
      "icon": "‚ñ∂Ô∏è",
      "color": "#00BCD4",
      "inputs": {
        "min": 0,
        "max": 0,
        "labels": []
      },
      "outputs": {
        "min": 1,
        "max": 1,
        "labels": ["start"],
        "mode": "fixed"
      },
      "properties": []
    },
    "end": {
      "id": "end",
      "name": "End",
      "category": "control",
      "icon": "‚èπÔ∏è",
      "color": "#F44336",
      "inputs": {
        "min": 1,
        "max": 10,
        "labels": ["input"]
      },
      "outputs": {
        "min": 0,
        "max": 0,
        "labels": []
      },
      "properties": [
        {
          "key": "message",
          "label": "End Message",
          "type": "text",
          "placeholder": "Flow completed"
        }
      ]
    },
    "merge": {
      "id": "merge",
      "name": "Merge",
      "category": "logic",
      "icon": "üîó",
      "color": "#673AB7",
      "inputs": {
        "min": 2,
        "max": -1,
        "labels": ["input"]
      },
      "outputs": {
        "min": 1,
        "max": 1,
        "labels": ["merged"],
        "mode": "fixed"
      },
      "properties": [
        {
          "key": "mergeStrategy",
          "label": "Merge Strategy",
          "type": "select",
          "options": ["wait_all", "first_complete", "last_complete"],
          "default": "wait_all"
        }
      ]
    }
  }
}
